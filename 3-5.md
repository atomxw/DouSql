# 【BurpSuite插件更新】Dousql sql注入检测插件更新至V3.0.6版本，高度自定义化，满足你所有需求～

> 🚀 **重磅更新**：V3.0.6版本修复HTTP编辑器渲染问题，优化弹窗显示，移除重复功能，为安全研究人员提供更稳定、更强大的SQL注入检测体验！

## 🎯 插件简介

**DouSql** 是一款专为安全研究人员和渗透测试工程师打造的高度自定义化SQL注入检测插件。基于Xia Sql二次开发，经过多个版本迭代，已成为Burp Suite生态中最受欢迎的SQL注入检测工具之一。

### ✨ 为什么选择DouSql？

- **🔧 完美中文支持**：V3.0.6继承V3.0.5的中文编码修复，支持UTF-8、GBK、GB2312等多种编码
- **🎯 高度自定义**：17种内置payload + 自定义payload组，满足各种测试场景
- **🚀 企业级稳定性**：基于Montoya API，多线程安全，并发测试无忧
- **📊 智能检测**：支持报错注入、时间盲注、布尔盲注等多种检测方式
- **🛡️ 开箱即用**：33种数据库错误信息识别，覆盖主流数据库和框架

## 🚀 核心功能特性

### 🔍 多维度SQL注入检测
- **报错注入检测**：内置33种数据库错误信息模式，覆盖MySQL、Oracle、PostgreSQL、SQL Server等
- **时间盲注检测**：可自定义时间阈值，支持固定和随机延时策略
- **布尔盲注检测**：智能响应长度差异分析，可配置敏感度阈值
- **联合注入检测**：支持ORDER BY等联合查询注入检测

### 🎛️ 高度自定义配置
- **Payload组管理**：支持创建、编辑、删除多个payload组，针对不同场景优化
- **参数过滤系统**：白名单/黑名单模式，精确控制测试范围
- **URL黑名单**：跳过不需要测试的路径，提高检测效率
- **静态文件过滤**：自动跳过30+种静态资源文件类型

### 🌐 完美多格式支持
- **URL参数**：GET请求查询参数检测
- **POST表单**：application/x-www-form-urlencoded格式
- **JSON参数**：完美支持复杂嵌套JSON结构，包括多层对象和数组
- **Cookie参数**：Cookie值SQL注入检测
- **XML参数**：XML格式参数检测

### 🔤 V3.0.6 渲染器优化
- **智能编码检测**：自动识别参数编码格式
- **多编码支持**：UTF-8、GBK、GB2312等主流编码格式
- **无损转换**：确保中文字符在测试过程中不被损坏
- **UI显示修复**：测试结果界面正确显示中文字符
- **请求发送优化**：避免中文字符的二次编码损坏

## 📖 详细使用教程

### 🔧 安装配置

**1. 环境要求**
- Burp Suite Professional 2024.6+
- Java 11+

**2. 插件安装**
```bash
# 下载最新版本
wget https://github.com/darkfiv/DouSql/releases/download/v3.0.6/DouSql-3.0.6.jar

# 或从源码编译
git clone https://github.com/darkfiv/DouSql.git
cd DouSql
mvn clean package
```

**3. 加载到Burp Suite**
- 打开Burp Suite → Extensions → Installed
- 点击Add按钮，选择jar文件
- 加载成功后在标签页看到"DouSQL"

### 🎯 基础使用方法

**1. 监控模式（推荐新手）**
- 启用Proxy监控：自动检测所有通过Proxy的流量
- 启用Repeater监控：自动检测Repeater发送的请求
- 实时查看检测结果，无需手动操作

**2. 右键菜单模式（推荐进阶用户）**
- 在任意HTTP请求上右键
- 选择"Send to DouSQL"
- 可选择使用当前payload组或指定特定组进行测试

**3. 结果查看**
- 左侧：扫描结果列表，显示所有检测请求
- 右侧：参数测试详情，显示每个参数的payload结果
- 底部：HTTP请求/响应查看器，查看完整数据包

### ⚙️ 高级配置技巧

**1. Payload组管理**
```
default组：通用payload，适合初步探测
timebased组：专门的时间盲注payload
orderby组：报错注入payload
自定义组：根据目标特点创建专门payload
```

**2. 参数过滤配置**
```
无过滤模式：测试所有检测到的参数
白名单模式：只测试关键参数（id、username、password等）
黑名单模式：排除无关参数（token、timestamp、csrf_token等）
```

**3. 延时发包设置**
```
无延时：立即发送（默认）
固定延时：每个请求前等待固定时间
随机延时：在指定区间内随机延时（推荐）
```

**4. 追加参数功能**
```
格式：key:value（一行一个）
示例：
token:abc123
debug:1
test:value
```

## 🎨 实战应用场景

### 🔍 场景一：日常渗透测试
**适用对象**：渗透测试工程师、安全研究人员

**使用方法**：
1. 启用Proxy监控模式
2. 正常浏览目标网站
3. 插件自动检测所有HTTP请求
4. 查看检测结果，重点关注标记为"ERR!"的请求

**优势**：全自动化，无需手动操作，覆盖面广

### 🎯 场景二：精准漏洞挖掘
**适用对象**：高级安全研究人员、SRC猎人

**使用方法**：
1. 使用Burp Suite的Spider或手动收集关键请求
2. 针对可疑请求使用右键菜单发送到插件
3. 根据目标技术栈选择合适的payload组
4. 分析检测结果，深入验证漏洞

**优势**：精准定向，效率高，误报率低

### 🌐 场景三：JSON API测试
**适用对象**：API安全测试人员

**使用方法**：
1. 配置追加参数，添加认证token
2. 使用default或自定义payload组
3. 重点测试JSON格式的API请求
4. 利用插件的JSON嵌套结构支持能力

**优势**：完美支持复杂JSON结构，中文参数无编码问题

### 🔤 场景四：中文网站测试
**适用对象**：国内安全测试人员

**使用方法**：
1. V3.0.6版本直接支持，无需额外配置
2. 正常测试包含中文参数的请求
3. 查看结果界面，中文字符显示正常
4. 验证实际HTTP请求中的中文字符正确性

**优势**：完全解决中文编码问题，支持多种编码格式

## 📊 检测结果说明

### 🚨 关键标记含义
- **ERR!** - 响应中匹配到报错信息，疑似存在SQL注入漏洞
- **time > N** - 响应时间超过阈值，疑似存在时间盲注
- **diff: ±N** - 响应长度差异超过阈值，可能存在布尔盲注
- **✔ ==> ?** - 特殊payload响应变化，可能存在逻辑漏洞

### 📈 状态标记说明
- **start** - 正在测试中
- **end!** - 测试完成
- **end! [err]** - 测试完成且发现报错信息
- **end! [time]** - 测试完成且发现时间异常

## 🛠️ 故障排除指南

### ❓ 常见问题解决

**Q1: 响应查看器无法显示内容？**
A1: 确保使用Burp Suite Professional 2024.6+版本，重新加载插件

**Q2: 中文参数显示乱码？**
A2: V3.0.6已完全修复此问题，如仍有问题请检查Burp Suite版本

**Q3: 检测结果过多误报？**
A3: 配置参数过滤，使用白名单模式只测试关键参数

**Q4: 插件运行缓慢？**
A4: 配置延时发包，设置合适的随机延时区间

### 🔧 性能优化建议

1. **合理配置参数过滤**：避免测试大量无意义参数
2. **使用URL黑名单**：排除静态资源和管理后台
3. **选择合适的payload组**：根据场景选择专门的payload组
4. **配置延时发包**：避免对目标服务器造成过大压力

## 🎉 版本更新亮点

### 🚀 V3.0.6 重大更新
- **修复HTTP编辑器渲染问题**：解决点击render后显示空白的问题
- **优化弹窗URL显示**：停止测试、删除结果弹窗只显示域名+路径，不显示参数
- **移除重复功能**：移除右键菜单中的"清空所有结果"，避免与控制面板功能重复
- **增强状态一致性**：确保停止测试后状态显示为"已停止"，不被其他状态覆盖

### 🚀 V3.0.5 重大更新
- **完全修复中文参数编码问题**：支持UTF-8、GBK、GB2312等多种编码
- **增强JSON处理能力**：完美支持复杂嵌套JSON结构
- **优化UI显示逻辑**：确保测试结果界面正确显示中文字符
- **提升请求发送稳定性**：避免中文字符的二次编码损坏

### 📈 历史版本亮点
- **V3.0.4**：新增自定义延时发包、多参数追加功能
- **V3.0.3**：修复Windows系统UI显示问题
- **V3.0.2**：优化配置文件路径，扩展payload和错误信息字典
- **V3.0.1**：修复工具来源判断逻辑，优化时间检测
- **V3.0.0**：基于Montoya API重构，新增payload分组管理

## 💡 使用技巧分享

### 🎯 提高检测效率
1. **分阶段测试**：先用default组快速扫描，再用专门组深入测试
2. **合理配置阈值**：根据目标服务器性能调整时间和长度阈值
3. **利用右键菜单**：对可疑请求进行针对性测试
4. **查看详细日志**：通过Burp Suite的Output面板查看详细信息

### 🛡️ 避免被WAF检测
1. **配置随机延时**：使用1-5秒随机延时模式
2. **自定义payload**：根据目标WAF特点定制绕过payload
3. **分批测试**：避免短时间内大量请求
4. **使用追加参数**：添加干扰参数混淆WAF检测

### 📊 结果分析技巧
1. **优先关注ERR!标记**：报错信息通常是最直接的漏洞证据
2. **时间异常需验证**：time标记可能是网络延迟，需要多次测试确认
3. **长度差异要分析**：diff标记需要结合具体响应内容分析
4. **交叉验证结果**：使用多种payload组验证同一个参数

## 🔗 获取与支持

### 📥 下载地址
- **GitHub Releases**：https://github.com/darkfiv/DouSql/releases
- **源码地址**：https://github.com/darkfiv/DouSql

### 📞 技术支持
- **问题反馈**：GitHub Issues
- **功能建议**：GitHub Discussions
- **使用交流**：关注公众号获取最新动态

### 🎖️ 致谢
感谢Xia Sql原作者的基础工作，感谢所有贡献者和用户的反馈支持！

---

**⚠️ 免责声明**：本工具仅供安全测试和教育目的使用，使用者应遵守相关法律法规，不得用于非法用途。开发者不承担因误用本工具造成的任何责任。

**🔥 立即体验**：下载DouSql V3.0.6，开启高效SQL注入检测之旅！